---
title: "Chart Library"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{chart-library}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(unhcrdatapackage)
```

<!-- WARNING - This vignette is generated by {fusen} from /dev/flat_full.Rmd: do not edit by hand -->

<!-- Run this 'development' chunk -->
<!-- Store every call to library() that you need to explore your functions -->


<!--
 You need to run the 'description' chunk in the '0-dev_history.Rmd' file before continuing your code there.

If it is the first time you use {fusen}, after 'description', you can directly run the last chunk of the present file with inflate() inside.
--> 


# Country Questions

## Plot Population type per year

<!--
Create a chunk for the core of the function

- The chunk needs to be named `function` at least
- It contains the code of a documented function
- The chunk can also be named `function-my_median` to make it easily
findable in your Rmd
- Let the `@examples` part empty, and use the next `examples` chunk instead to present reproducible examples

After inflating the template

-  This function code will automatically be added in a new file in the "R/" directory
-->


<!--
Create a chunk with an example of use for your function

- The chunk needs to be named `examples` at least
- It contains working examples of your function
- The chunk is better be named `examples-my_median` to be handled
correctly when inflated as a vignette

After inflating the template

-  This example will automatically be added in the '@examples' part of our function above in the "R/" directory
- This example will automatically be added in the vignette created from this Rmd template
-->


```{r examples-plot_ctr_population_type_per_year, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}

plot_ctr_population_type_per_year(start_year = 2016,
                         country_asylum_iso3c = "PAN",
                          pop_type = c("REF", 
                                       "ASY", 
                                       "OIP", 
                                       "OOC",
                                       "STA",
                                       "IDP" )
                  )
```

<!--
Create a chunk with a test of use for your function

- The chunk needs to be named `tests` at least
- It contains working tests of your function
- The chunk is better be named `tests-my_median` to be handled
correctly when inflated as a vignette

After inflating the template

-  This test code will automatically be added in the "tests/testthat/" directory
-->


## Plot Main country of origin  in one specific country - Absolute value

```{r examples-plot_ctr_population_type_abs, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
plot_ctr_population_type_abs(year = 2020,
                    country_asylum_iso3c = "USA",
                    top_n_countries = 4,
                    pop_type = "REF"
                    ) 

## Same with 9 top countries and asylum seekers included
plot_ctr_population_type_abs(year = 2020,
                    country_asylum_iso3c = "USA",
                    top_n_countries = 9,
                    pop_type = "REF"
                    ) 

```

## Plot Main country of origin in one specific country - Percentage

```{r examples-plot_ctr_population_type_perc, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}

plot_ctr_population_type_perc(year = 2021,
                    country_asylum_iso3c = "BRA",
                    top_n_countries = 9,
                    pop_type = "REF"  ) 

plot_ctr_population_type_perc(year = 2021,
                    country_asylum_iso3c = "BRA",
                    top_n_countries = 9,
                    pop_type = "ASY"  ) 
```

## Plot Increases and Decreases in Population Groups

```{r examples-plot_ctr_diff_in_pop_groups, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
# 
plot_ctr_diff_in_pop_groups(year = 2021,
                            country_asylum_iso3c = "USA",
                            pop_type = c("REF", "ASY")
         )

```

## Plot Main Destination from  one specific country 

```{r examples-plot_ctr_destination, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
# 
plot_ctr_destination(year = 2021,
                     country_origin_iso3c = "COL",
                     pop_type = c("REF", "ASY")
         )

```

    

## Plot Tree Map of Categories

    

```{r examples-plot_ctr_treemap, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
# 
plot_ctr_treemap(year = 2021,
                            country_asylum_iso3c = "USA",
                            pop_type = c("REF", "ASY")
         )

```

    



## Plot Refugees Age Pyramid

    

```{r examples-plot_ctr_pyramid, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
# 
plot_ctr_pyramid(year = 2021,
                            country_asylum_iso3c = "VEN",
                            pop_type = c("REF", "ASY")
         )

```

## Asylum Processing

    

## Refugee Recognition rate

    

## Refugee Status Determination Application

## Average processing time

    

## Refugees accessing durable solutions

## Average Asylum Processing Time

    

  

```{r example-plot_ctr_processing_time}
# plot_ctr_processing_time(year = 2022,
#                               country_asylum_iso3c = "CHL")
```

  

  


## Solution 

    

  

```{r example-plot_ctr_solution}
plot_ctr_solution(year = 2021,
                  country_asylum_iso3c= "UGA",
                  pop_type = c("REF", "ASY"))
```

  

  




## Resettlement Trend

    

## Proportion of the population who are refugees, by country of origin

    

## Ratio Refugee Vs Host population

    

## Plot Ratio Refugee Migrant

    

  

```{r example-plot_ctr_disp_migrant}
plot_ctr_disp_migrant(year = 2021,
                    country_asylum_iso3c = "BRA",
                  pop_type = c("REF", "ASY", "OIP") )
```

  

  
    
    
--- 


# Regional Questions

## Population group in the region  

    

  

```{r example-plot_reg_treemap}
plot_reg_treemap(year = 2022,  region = "Americas")
```

  

  



## Plot Population Origin-Destination within the region 

    

  

```{r example-plot_reg_origin_dest}
plot_reg_origin_dest(year = 2022,  region = "Americas")
```

  

  



## Plot Main country of Asylum in the Region

```{r examples-plot_reg_population_type_abs, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
plot_reg_population_type_abs(year = 2022,
                              region = "Americas",
                              top_n_countries = 5,
                              pop_type = "REF"
                              ) 

plot_reg_population_type_abs(year = 2022,
                              region = "Americas",
                              top_n_countries = 5,
                              pop_type = "ASY"
                              ) 

```

## Plot Biggest decrease in Refugee Population

 
    

  

```{r example-plot_reg_decrease}
plot_reg_decrease(year = 2021,
                  lag = 5,
                  topn = 5,
                  region = "Americas",
                  pop_type = c("REF", "ASY", "OIP"))
```

  

  
    

## Plot Biggest increase in Refugee Population 

    

  

```{r example-plot_reg_increase}
plot_reg_increase(year = 2021,
                  lag = 5,
                  topn = 5,
                  region = "Americas",
                  pop_type = c("REF", "ASY", "OIP"))

plot_reg_increase(year = 2021,
                  lag = 5,
                  topn = 5,
                  region = "Asia",
                  pop_type = c("REF", "ASY", "OIP"))
```

  

  


## Proportion of the population who are refugees, by country of origin  

    

  

```{r example-plot_reg_prop_origin}
plot_reg_prop_origin(year = 2022,  region = "Americas")
```

  

  

    

## Comparison over time by Region

    

## Evolution over time of the different Population of Concern

    

## Evolution by Country of Origin

    

## Refugee Over time

    

## Solution over time

    

  

```{r example-plot_reg_solution}
plot_reg_solution(year = 2022, 
                            region = "Americas",
                            lag = 10)
```

  

  


## Mapping Population  

    

  

```{r example-plot_reg_map}
plot_reg_map(  year = 2022,
                            region = "Americas",
                            topn = 5,
                            pop_type =  c("REF", "ASY", "OIP"),
                            projection = "Mercator",
                            maxSymbolsize = .25)


# plot_reg_map(  year = 2022,
#                             region = "WestAfrica",
#                             topn = 5,
#                             pop_type =  c("REF", "ASY", "OIP"),
#                             projection = "Mercator",
#                             maxSymbolsize = .25)

```

  

  
 
    

## Refugee Chart Race

     


--- 


# Template

## Country Factsheet

```{r example-template_CtryFactsheet}
# template_CtryFactsheet(year = 2022, region = "Americas")
```

## Country Presentation

```{r example-template_CtryPrez}
#template_CtryPrez(year = 2022, region = "Americas")
```

## Regional Factsheet

```{r example-template_RegFactsheet}
# template_RegFactsheet(year = 2022, region = "Americas")
```

## Regional Presentation

```{r example-template_RegPrez}
# template_RegPrez(year = 2022, region = "Americas")
```

# Update Dataset

    

  

```{r example-update_dataset}
#update_dataset()
```

  

  


## Refresh package

