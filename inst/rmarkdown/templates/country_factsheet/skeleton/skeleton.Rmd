---
title: "Country Factsheet"
subtitle:  "tt"  
date: "`r format(Sys.Date(),  '%d %B %Y')`"
author:
  - name: Contact Name
    affiliation: Job title
    email: email@unhcr.org
params:
  year: "2021"
  country: "USA"
  short: "no"
output:
  unhcrdown::paged_simple:
    back_html: true
paged-footnotes: true
links-to-footnotes: true
# uncomment this line to produce HTML and PDF in RStudio:
#knit: pagedown::chrome_print
---



```{r echo = FALSE}
# `r paste0(params$country, " - ",params$year) `
knitr::opts_chunk$set(echo = FALSE,
                      comment = "#>",
                      message=FALSE, 
                      warning=FALSE,
                      fig.retina = 2, 
                      fig.width = 8,
                      fig.asp = 0.618,
                      fig.align = "center",
                      dev = "ragg_png",
                      out.width = "90%")
library(testthat)
library(ggplot2)
library(unhcrthemes)
library(unhcrdatapackage)
theme_set( unhcrthemes::theme_unhcr())

```


## Plot Population type per year

```{r examples-plot_ctr_population_type_per_year, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
plot_ctr_population_type_per_year(start_year = "2016",
                         country_asylum_iso3c = params$country,
                          pop_type = c("REF", 
                                       "ASY", 
                                       "VDA", 
                                       "OOC",
                                       "STA",
                                       "IDP" )          )
```

## Plot Main country of origin - Absolute value

```{r examples-plot_ctr_population_type_abs, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
plot_ctr_population_type_abs(year = params$year,
                    country_asylum_iso3c = params$country,
                    top_n_countries = 9,
                    pop_type = "REF"
                    ) 
```

## Plot Main country of origin - Percentage

```{r examples-plot_ctr_population_type_perc, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
plot_ctr_population_type_perc(year = params$year,
                    country_asylum_iso3c = params$country,
                    top_n_countries = 9,
                    pop_type = "REF"  ) 
```

## Plot Increases and Decreases in Population Groups

```{r examples-plot_ctr_diff_in_pop_groups, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
# plot_ctr_diff_in_pop_groups(year = params$year,
#                             country_asylum_iso3c = params$country,
#                             pop_type = c("REF", "ASY")
#          )
```

## Top Refugee hosting Countries

```{r examples-plot_ctr_destination, fig.retina = 2, fig.width = 8, fig.asp = 0.618, fig.align = "center", dev = "ragg_png", out.width = "90%"}
plot_ctr_destination(year = params$year,
                     country_origin_iso3c = params$country,
                     pop_type = c("REF", "ASY")
         )
```
